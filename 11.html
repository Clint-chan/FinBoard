<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>机构级异动监控设置</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: #F3F4F6;
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        
        /* 隐藏数字输入框箭头 */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }

        /* 自定义过渡 */
        .setting-item {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* 选中状态的基础样式变量 */
        .selected-red {
            background-color: #FEF2F2; /* red-50 */
            border-color: #EF4444; /* red-500 */
            color: #B91C1C; /* red-700 */
        }
        .selected-green {
            background-color: #ECFDF5; /* emerald-50 */
            border-color: #10B981; /* emerald-500 */
            color: #047857; /* emerald-700 */
        }
        .selected-blue {
            background-color: #EFF6FF; /* blue-50 */
            border-color: #3B82F6; /* blue-500 */
            color: #1D4ED8; /* blue-700 */
        }

        /* 图标动画微调 */
        .group:hover .icon-stroke {
            stroke-width: 2;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen text-slate-800 p-4">

    <div class="bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.08)] w-full max-w-[560px] overflow-hidden border border-slate-100">
        
        <div class="px-6 py-5 border-b border-slate-100 flex justify-between items-center bg-white">
            <div>
                <h1 class="text-lg font-semibold text-slate-900">策略监控配置</h1>
                <div class="flex items-center gap-2 mt-1.5">
                    <span class="text-xs font-medium text-slate-500 uppercase tracking-wide">Target Group</span>
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-700 border border-slate-200">
                        无人驾驶
                        <span class="ml-1.5 pl-1.5 border-l border-slate-300 text-slate-500">2 标的</span>
                    </span>
                </div>
            </div>
            <button class="text-slate-400 hover:text-slate-600 transition-colors">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>
        </div>

        <div class="p-6 space-y-6">

            <div>
                <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">价格异动 (Price Action)</label>
                <div class="grid grid-cols-2 gap-4">
                    
                    <div id="card-rise" class="setting-item selected-red border border-red-500 rounded-lg p-4 cursor-pointer group relative overflow-hidden" onclick="toggleCard('card-rise', 'red')">
                        <div class="flex justify-between items-start z-10 relative">
                            <div class="flex items-center gap-3">
                                <div class="p-2 rounded-md bg-white border border-red-100 shadow-sm">
                                    <svg class="w-5 h-5 text-red-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                        <polyline points="17 6 23 6 23 12"></polyline>
                                    </svg>
                                </div>
                                <div>
                                    <div class="text-sm font-semibold text-slate-900 group-hover:text-red-700">快速拉升</div>
                                    <div class="text-[10px] text-slate-400 mt-0.5">1分钟涨幅</div>
                                </div>
                            </div>
                            <div class="checkbox-icon text-red-500">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                            </div>
                        </div>
                        <div class="mt-4 flex items-center bg-white/60 rounded border border-red-200 px-3 py-1.5 w-full transition-colors focus-within:bg-white focus-within:ring-2 focus-within:ring-red-100">
                            <span class="text-xs text-slate-500 mr-2">阈值</span>
                            <input type="number" value="2.0" class="font-mono text-sm font-bold text-slate-800 bg-transparent w-full outline-none" onclick="event.stopPropagation()">
                            <span class="text-xs font-medium text-slate-400">%</span>
                        </div>
                    </div>

                    <div id="card-fall" class="setting-item border border-slate-200 bg-white rounded-lg p-4 cursor-pointer group hover:border-emerald-300" onclick="toggleCard('card-fall', 'green')">
                        <div class="flex justify-between items-start">
                            <div class="flex items-center gap-3">
                                <div class="p-2 rounded-md bg-slate-50 border border-slate-100 text-slate-400 group-hover:text-emerald-500 group-hover:bg-white group-hover:border-emerald-100 transition-colors">
                                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline>
                                        <polyline points="17 18 23 18 23 12"></polyline>
                                    </svg>
                                </div>
                                <div>
                                    <div class="text-sm font-medium text-slate-600 group-hover:text-emerald-700">快速下跌</div>
                                    <div class="text-[10px] text-slate-400 mt-0.5">1分钟跌幅</div>
                                </div>
                            </div>
                            <div class="checkbox-icon text-slate-300">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/></svg>
                            </div>
                        </div>
                        <div class="mt-4 flex items-center bg-slate-50 rounded border border-slate-100 px-3 py-1.5 w-full opacity-50 pointer-events-none input-area">
                            <span class="text-xs text-slate-400 mr-2">阈值</span>
                            <input type="number" value="3.0" class="font-mono text-sm font-bold text-slate-400 bg-transparent w-full outline-none">
                            <span class="text-xs font-medium text-slate-400">%</span>
                        </div>
                    </div>

                </div>
            </div>

            <div class="grid grid-cols-2 gap-6">
                <div class="col-span-2">
                    <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">关键状态 (Key Events)</label>
                    <div class="flex gap-4">
                        
                        <div id="card-limit" class="setting-item flex-1 border border-slate-200 bg-white rounded-lg p-3 flex items-center justify-between cursor-pointer hover:border-red-300" onclick="toggleCard('card-limit', 'red', true)">
                            <div class="flex items-center gap-3">
                                <div class="text-slate-400">
                                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                                </div>
                                <span class="text-sm font-medium text-slate-700">涨停封板</span>
                            </div>
                            <div class="w-10 h-5 bg-slate-200 rounded-full relative transition-colors duration-300 toggle-bg">
                                <div class="w-3 h-3 bg-white rounded-full absolute top-1 left-1 transition-transform duration-300 toggle-dot shadow-sm"></div>
                            </div>
                        </div>

                        <div id="card-break" class="setting-item flex-1 border border-slate-200 bg-white rounded-lg p-3 flex items-center justify-between cursor-pointer hover:border-orange-300" onclick="toggleCard('card-break', 'orange', true)">
                            <div class="flex items-center gap-3">
                                <div class="text-slate-400">
                                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 11V7a5 5 0 0 1 9.9-1"></path><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="m12 14.5 2 2"></path><path d="m14 14.5-2 2"></path></svg>
                                </div>
                                <span class="text-sm font-medium text-slate-700">开板/炸板</span>
                            </div>
                            <div class="w-10 h-5 bg-slate-200 rounded-full relative transition-colors duration-300 toggle-bg">
                                <div class="w-3 h-3 bg-white rounded-full absolute top-1 left-1 transition-transform duration-300 toggle-dot shadow-sm"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div>
                <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">量能因子 (Volume Factor)</label>
                <div id="card-vol" class="setting-item selected-blue border border-blue-500 rounded-lg p-4 transition-all">
                    
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex gap-3">
                            <div class="p-2 rounded-md bg-blue-500 text-white shadow-sm shadow-blue-200">
                                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="20" x2="18" y2="4"></line> <line x1="6" y1="20" x2="6" y2="14"></line>
                                    <line x1="12" y1="20" x2="12" y2="10"></line>
                                </svg>
                            </div>
                            <div>
                                <div class="flex items-center gap-2">
                                    <span class="text-sm font-bold text-slate-900">量能瞬间爆发</span>
                                    <div class="px-1.5 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-600">Alpha</div>
                                </div>
                                <p class="text-xs text-slate-500 mt-1">最新成交量增量 > 均值 × 倍数</p>
                            </div>
                        </div>
                        <div class="cursor-pointer" onclick="toggleCard('card-vol', 'blue')">
                            <div class="w-11 h-6 bg-blue-600 rounded-full relative transition-colors duration-300 toggle-bg">
                                <div class="w-4 h-4 bg-white rounded-full absolute top-1 left-6 transition-transform duration-300 toggle-dot shadow-sm"></div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-blue-50/50 rounded border border-blue-100 p-3 flex items-center justify-between gap-4 input-area">
                        <span class="text-xs font-medium text-slate-600 whitespace-nowrap">放大倍数</span>
                        
                        <div class="flex-1 relative h-8 flex items-center select-none">
                            <input type="range" min="1" max="10" step="0.5" value="3" class="w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600" oninput="document.getElementById('vol-display').value = this.value">
                        </div>

                        <div class="flex items-center w-16 bg-white border border-blue-200 rounded shadow-sm focus-within:ring-2 focus-within:ring-blue-200">
                            <input type="number" id="vol-display" value="3" class="font-mono text-center w-full h-8 text-sm font-bold text-blue-700 outline-none bg-transparent">
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end gap-3">
            <button class="px-5 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-200 transition-colors">取消</button>
            <button class="px-5 py-2.5 rounded-lg bg-slate-900 text-white text-sm font-semibold shadow-lg shadow-slate-900/10 hover:bg-slate-800 hover:shadow-slate-900/20 transition-all flex items-center gap-2">
                <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v4"/><path d="m16.2 7.8 2.9-2.9"/><path d="M18 12h4"/><path d="m16.2 16.2 2.9 2.9"/><path d="M12 18v4"/><path d="m4.9 19.1 2.9-2.9"/><path d="M2 12h4"/><path d="m4.9 4.9 2.9 2.9"/></svg>
                启动盯盘
            </button>
        </div>

    </div>

    <script>
        // 定义图标 SVG 字符串，方便切换
        const checkIcon = '<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>';
        const uncheckIcon = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="9"/></svg>';

        function toggleCard(id, color, isSwitch = false) {
            const el = document.getElementById(id);
            // 定义颜色类
            const colorClass = `selected-${color}`;
            const borderColor = `border-${color}-500`;
            const isActive = el.classList.contains(colorClass) || (isSwitch && el.querySelector('.toggle-bg').classList.contains(`bg-${color === 'orange' ? 'orange-500' : color === 'red' ? 'red-500' : 'blue-600'}`));

            if (isSwitch) {
                // 处理纯开关类型 (Toggle Switch)
                const bg = el.querySelector('.toggle-bg');
                const dot = el.querySelector('.toggle-dot');
                const svg = el.querySelector('svg');
                
                // 颜色映射修正
                let activeColor = 'bg-slate-900'; // 默认
                if(color === 'red') activeColor = 'bg-red-500';
                if(color === 'orange') activeColor = 'bg-orange-500';
                if(color === 'blue') activeColor = 'bg-blue-600';

                if (bg.classList.contains('bg-slate-200')) {
                    // 激活
                    bg.classList.remove('bg-slate-200');
                    bg.classList.add(activeColor);
                    dot.classList.remove('left-1');
                    dot.classList.add(id === 'card-vol' ? 'left-6' : 'left-6'); // 根据switch宽度调整
                    
                    // 卡片边框高亮
                    el.classList.add(`border-${color}-300`);
                    el.classList.add(`bg-${color}-50`);
                    svg.classList.add(`text-${color}-600`);
                    svg.classList.remove('text-slate-400');
                    
                    // 如果有输入框
                    const input = el.querySelector('.input-area');
                    if(input) {
                        input.classList.remove('opacity-50', 'pointer-events-none');
                    }
                } else {
                    // 关闭
                    bg.classList.add('bg-slate-200');
                    bg.classList.remove(activeColor);
                    dot.classList.add('left-1');
                    dot.classList.remove('left-6');

                    el.classList.remove(`border-${color}-300`);
                    el.classList.remove(`bg-${color}-50`);
                    svg.classList.remove(`text-${color}-600`);
                    svg.classList.add('text-slate-400');

                    const input = el.querySelector('.input-area');
                    if(input) {
                        input.classList.add('opacity-50', 'pointer-events-none');
                    }
                }
            } else {
                // 处理卡片选择类型
                const iconContainer = el.querySelector('.checkbox-icon');
                const inputArea = el.querySelector('.input-area');
                const mainIconDiv = el.querySelector('.p-2'); // 左侧图标容器
                const mainIconSvg = mainIconDiv.querySelector('svg');

                if (isActive) {
                    // 变灰 (Deactivate)
                    el.className = `setting-item border border-slate-200 bg-white rounded-lg p-4 cursor-pointer group hover:border-${color}-300 relative`;
                    iconContainer.innerHTML = uncheckIcon;
                    iconContainer.className = 'checkbox-icon text-slate-300';
                    
                    if (inputArea) {
                        inputArea.classList.add('opacity-50', 'pointer-events-none');
                        inputArea.classList.remove('bg-white/60', `border-${color}-200`);
                        inputArea.classList.add('bg-slate-50', 'border-slate-100');
                    }
                    
                    // 图标样式还原
                    mainIconDiv.className = 'p-2 rounded-md bg-slate-50 border border-slate-100 text-slate-400 transition-colors';
                    mainIconSvg.classList.remove(`text-${color}-500`);

                } else {
                    // 激活 (Activate)
                    el.className = `setting-item ${colorClass} border border-${color}-500 rounded-lg p-4 cursor-pointer group relative overflow-hidden`;
                    iconContainer.innerHTML = checkIcon;
                    iconContainer.className = `checkbox-icon text-${color}-500`;

                    if (inputArea) {
                        inputArea.classList.remove('opacity-50', 'pointer-events-none');
                        inputArea.classList.remove('bg-slate-50', 'border-slate-100');
                        inputArea.classList.add('bg-white/60', `border-${color}-200`);
                    }

                    // 图标样式高亮
                    mainIconDiv.className = `p-2 rounded-md bg-white border border-${color}-100 shadow-sm`;
                    mainIconSvg.classList.add(`text-${color}-500`);
                }
            }
        }
    </script>
</body>
</html>